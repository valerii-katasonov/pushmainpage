<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Events Renderer</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 20px;
      background-color: #f0f0f0;
      color: #333;
    }
    .dark-theme {
      background-color: #222;
      color: #eee;
    }
    h1 {
      font-size: 1.5em;
      margin: 10px 0;
    }
    .highlight {
      margin: 5px 0;
    }
    .highlight strong {
      color: #007ACC;
    }
    #events-content {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #ccc;
      background-color: #fff;
    }
    .dark-theme #events-content {
      background-color: #333;
      border-color: #555;
    }
  </style>
</head>
<body>

  <h2>Events Renderer Demo</h2>

  <textarea id="events-input" rows="10" cols="80" placeholder="Вставь сюда текст с событиями..."></textarea><br>
  <button onclick="renderEvents(document.getElementById('events-input').value)">Показать события</button>
  <button onclick="toggleTheme()">Сменить тему</button>

  <div id="events-content"></div>

  <script>
    function renderEvents(text) {
      const eventsContent = document.getElementById('events-content');
      eventsContent.innerHTML = '';

      const lines = text.split('\n');
      let html = '';

      lines.forEach((line, index) => {
        line = line.trimEnd();

        // Первые 3 строки — как заголовок
        if (index < 3) {
          html += `<h1>${line}</h1>`;
          return;
        }

        // Пустая строка — перенос
        if (!line) {
          html += '<br>';
          return;
        }

        // Остальные строки по шаблону начиная с 5-й (index с нуля)
        if (index >= 4) {
          const position = (index - 4) % 3;

          if (position === 0) {
            // жирная строка
            html += `<p class="highlight"><strong>${line}</strong></p>`;
          } else if (position === 1) {
            // обычная строка
            html += `<p class="highlight">${line}</p>`;
          }
        }
      });

      eventsContent.innerHTML = html;
    }

    function toggleTheme() {
      document.body.classList.toggle('dark-theme');
    }
  </script>

</body>
</html>
